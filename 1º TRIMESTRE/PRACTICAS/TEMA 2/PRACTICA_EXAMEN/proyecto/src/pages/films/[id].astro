---
import { getCollection } from 'astro:content';
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
    const films = await getCollection('films');

    return films.map(film: any; )} => ({
        params: { id: film.slug },
        props: { film },
    });
}

const {film} = Astro.props;
const {slug, data} = film;
const {title, director, year, runtime, synopsis, image} = data;
---

<Layout title={title}>
    <div class="flex gap-12">
        <aside>
            <img class="w-80 h-auto" src={`/${image}`} alt={title} transition:name={`image-${slug}`} />
        </aside>
        <main>
            <h1 class="font-bold text-4xl" transition:name={`title-${slug}`}> {title}</h1>
        </main>
    </div>
</Layout>